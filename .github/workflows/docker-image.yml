name: HelloBoar Docker Image CI

on:
  workflow_dispatch:
  

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
     - uses: actions/checkout@v2
     - name: Docker hub login image
       env:
          DOCKER_USER:${{secrets.DOCKER_USER}}
          DOCKER_PASSWORD:${{secrets.DOCKER_PASSWORD}}
       run: | 
        docker login -u $DOCKER_USER -p $DOCKER_PASSWORD
                 
     - uses: actions/checkout@v2
     - name: Build the Docker image
       run: docker build . --file Dockerfile --tag davanzini/helloboar:$(date +%s)
    
     - name: Push the Docker image
       run: docker push  ${{secrets.DOCKER_USER}}/davanzini/helloboar
